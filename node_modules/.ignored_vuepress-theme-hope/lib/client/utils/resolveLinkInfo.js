import { inferRoutePath, resolveRouteWithRedirect, } from "vuepress-shared/client";
import { ArticleInfoType } from "../../shared/index.js";
/**
 * Resolve AutoLink props from string
 *
 */
export const resolveLinkInfo = (router, item, preferFull = false) => {
    const { fullPath, meta, name } = resolveRouteWithRedirect(router, inferRoutePath(encodeURI(item)));
    return {
        text: !preferFull && meta[ArticleInfoType.shortTitle]
            ? meta[ArticleInfoType.shortTitle]
            : meta[ArticleInfoType.title] || item,
        link: name === "404" ? item : fullPath,
        ...(meta[ArticleInfoType.icon] ? { icon: meta[ArticleInfoType.icon] } : {}),
    };
};
//# sourceMappingURL=resolveLinkInfo.js.map