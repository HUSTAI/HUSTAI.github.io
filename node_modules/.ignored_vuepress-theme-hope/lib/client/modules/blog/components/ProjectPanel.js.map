{"version":3,"file":"ProjectPanel.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/ProjectPanel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAChE,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAE9C,OAAO,EAAE,eAAe,EAAE,CAAC,EAAE,gBAAgB,EAAE,MAAM,KAAK,CAAC;AAC3D,OAAO,EAAE,aAAa,EAAE,MAAM,wBAAwB,CAAC;AAEvD,OAAO,QAAQ,MAAM,iCAAiC,CAAC;AACvD,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AACrE,OAAO,EACL,WAAW,EACX,QAAQ,EACR,UAAU,EACV,QAAQ,EACR,WAAW,GACZ,MAAM,iDAAiD,CAAC;AAIzD,OAAO,8BAA8B,CAAC;AAEtC,MAAM,uBAAuB,GAAG;IAC9B,MAAM;IACN,SAAS;IACT,MAAM;IACN,SAAS;IACT,QAAQ;CACT,CAAC;AAEF,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,cAAc;IAEpB,UAAU,EAAE,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE;IAExE,KAAK;QACH,MAAM,WAAW,GAAG,kBAAkB,EAAgC,CAAC;QACvE,MAAM,IAAI,GAAG,OAAO,EAAE,CAAC;QACvB,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;QAE/B,MAAM,UAAU,GAAG,CAAC,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,MAAM,EAAgB,EAAE;YAC3D,gBAAgB;YAChB,IAAI,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACxC,OAAO,CAAC,CAAC,gBAAgB,CAAC,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC;YAE7C,yBAAyB;YACzB,IAAI,UAAU,CAAC,IAAI,CAAC;gBAClB,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,kBAAkB,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;YAEjE,8BAA8B;YAC9B,IAAI,aAAa,CAAC,IAAI,CAAC;gBACrB,OAAO,CAAC,CAAC,KAAK,EAAE;oBACd,KAAK,EAAE,kBAAkB;oBACzB,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC;oBACnB,GAAG;iBACJ,CAAC,CAAC;YAEL,sBAAsB;YACtB,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;QAC/B,CAAC,CAAC;QAEF,OAAO,GAAiB,EAAE,CACxB,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM;YAChC,CAAC,CAAC,CAAC,CACC,KAAK,EACL,EAAE,KAAK,EAAE,kBAAkB,EAAE,EAC7B,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAC5B,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,EAAE,CACpC,CAAC,CACC,KAAK,EACL;gBACE,KAAK,EAAE;oBACL,iBAAiB;oBACjB,sCAAsC;oBACtC,EAAE,CAAC,UAAU,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE;iBACzC;gBACD,OAAO,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;aAC9B,EACD;gBACE,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC;gBACtB,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,iBAAiB,EAAE,EAAE,IAAI,CAAC;gBAC5C,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,iBAAiB,EAAE,EAAE,IAAI,CAAC;aAC7C,CACF,CACJ,CACF;YACH,CAAC,CAAC,IAAI,CAAC;IACb,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { usePageFrontmatter, withBase } from \"@vuepress/client\";\nimport { isLinkHttp } from \"@vuepress/shared\";\nimport type { VNode } from \"vue\";\nimport { defineComponent, h, resolveComponent } from \"vue\";\nimport { isAbsoluteUrl } from \"vuepress-shared/client\";\n\nimport HopeIcon from \"@theme-hope/components/HopeIcon\";\nimport { useNavigate, usePure } from \"@theme-hope/composables/index\";\nimport {\n  ArticleIcon,\n  BookIcon,\n  FriendIcon,\n  LinkIcon,\n  ProjectIcon,\n} from \"@theme-hope/modules/blog/components/icons/index\";\n\nimport type { ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\n\nimport \"../styles/project-panel.scss\";\n\nconst AVAILABLE_PROJECT_TYPES = [\n  \"link\",\n  \"article\",\n  \"book\",\n  \"project\",\n  \"friend\",\n];\n\nexport default defineComponent({\n  name: \"ProjectPanel\",\n\n  components: { ArticleIcon, BookIcon, FriendIcon, LinkIcon, ProjectIcon },\n\n  setup() {\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n    const pure = usePure();\n    const navigate = useNavigate();\n\n    const renderIcon = (icon = \"\", alt = \"icon\"): VNode | null => {\n      // built in icon\n      if (AVAILABLE_PROJECT_TYPES.includes(icon))\n        return h(resolveComponent(`${icon}-icon`));\n\n      // it’s a full image link\n      if (isLinkHttp(icon))\n        return h(\"img\", { class: \"vp-project-image\", src: icon, alt });\n\n      // it’s an absolute image link\n      if (isAbsoluteUrl(icon))\n        return h(\"img\", {\n          class: \"vp-project-image\",\n          src: withBase(icon),\n          alt,\n        });\n\n      // render as icon font\n      return h(HopeIcon, { icon });\n    };\n\n    return (): VNode | null =>\n      frontmatter.value.projects?.length\n        ? h(\n            \"div\",\n            { class: \"vp-project-panel\" },\n            frontmatter.value.projects.map(\n              ({ icon, link, name, desc }, index) =>\n                h(\n                  \"div\",\n                  {\n                    class: [\n                      \"vp-project-card\",\n                      // TODO: magic number 9 is tricky here\n                      { [`project${index % 9}`]: !pure.value },\n                    ],\n                    onClick: () => navigate(link),\n                  },\n                  [\n                    renderIcon(icon, name),\n                    h(\"div\", { class: \"vp-project-name\" }, name),\n                    h(\"div\", { class: \"vp-project-desc\" }, desc),\n                  ]\n                )\n            )\n          )\n        : null;\n  },\n});\n"]}