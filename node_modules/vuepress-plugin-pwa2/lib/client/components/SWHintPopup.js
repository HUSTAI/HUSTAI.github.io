import{defineComponent as p,ref as r,onMounted as i,h as t,Transition as s}from"vue";import{useLocaleConfig as v}from"vuepress-shared/client";import{l as c,U as d}from"../define-2bf6d7e2.js";import"../styles/popup.scss";import{u as m}from"../usePWAEvent-f118b552.js";var f=p({name:"SWHintPopup",slots:Object,setup(b,{slots:a}){const u=v(c),o=r(!1),n=()=>{o.value&&(window.location.reload(!0),o.value=!1)};return i(()=>{const e=m();e.on("updatefound",()=>{navigator.serviceWorker.getRegistration().then(l=>{l&&l.active&&(o.value=!0)})}),e.on("updated",()=>{o.value=!1})}),()=>t(s,{name:"popup"},()=>{var e;return((e=a.default)==null?void 0:e.call(a,{enabled:o.value,uninstall:n}))||(o.value?t("button",{type:"button",class:"sw-hint-popup",tabindex:0,onClick:()=>n()},[u.value.hint,t("span",{class:"icon-wrapper"},t(d))]):null)})}});export{f as default};
//# sourceMappingURL=SWHintPopup.js.map
