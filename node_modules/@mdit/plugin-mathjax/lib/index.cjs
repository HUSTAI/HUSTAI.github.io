"use strict";var j=require("node:module"),f=require("@mdit/plugin-tex"),x=require("mathjax-full/js/a11y/assistive-mml.js"),v=require("mathjax-full/js/adaptors/liteAdaptor.js"),g=require("mathjax-full/js/handlers/html.js"),M=require("mathjax-full/js/input/tex/AllPackages.js"),m=require("mathjax-full/js/input/tex.js"),i=require("mathjax-full/js/mathjax.js"),s=require("mathjax-full/js/output/chtml.js"),l=require("mathjax-full/js/output/svg.js"),q=require("upath");const p=e=>({InputJax:new m.TeX({packages:M.AllPackages,...e.tex}),OutputJax:e.output==="chtml"?new s.CHTML({fontURL:q.dirname(j.createRequire(typeof document>"u"?require("url").pathToFileURL(__filename).href:document.currentScript&&document.currentScript.src||new URL("index.cjs",document.baseURI).href).resolve("mathjax-full/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff")),adaptiveCSS:!0,...e.chtml}):new l.SVG({fontCache:"none",...e.svg}),enableAssistiveMml:e.a11y!==!1}),T=(e={})=>{const t=p(e),r=v.liteAdaptor(),c=g.RegisterHTMLHandler(r);e.a11y!==!1&&x.AssistiveMmlHandler(c);const{OutputJax:n,InputJax:a}=t,u=()=>{n instanceof s.CHTML&&n.clearCache()},o=()=>{a.reset()},d=()=>{const h=r.innerHTML(t.OutputJax.styleSheet(i.mathjax.document("",t)));return u(),h};return{adaptor:r,documentOptions:t,mathFence:e.mathFence??!1,clearStyle:u,reset:o,outputStyle:d}},_=(e,t)=>{const{adaptor:r,documentOptions:c,mathFence:n=!1}=t;e.use(f.tex,{mathFence:n,render:(a,u)=>{const o=i.mathjax.document(a,c).convert(a,{display:u});return r.outerHTML(o)}})};Object.defineProperty(exports,"TeX",{enumerable:!0,get:function(){return m.TeX}}),Object.defineProperty(exports,"Mathjax",{enumerable:!0,get:function(){return i.mathjax}}),Object.defineProperty(exports,"CHTML",{enumerable:!0,get:function(){return s.CHTML}}),Object.defineProperty(exports,"SVG",{enumerable:!0,get:function(){return l.SVG}}),exports.createMathjaxInstance=T,exports.getDocumentOptions=p,exports.mathjax=_;
//# sourceMappingURL=index.cjs.map
