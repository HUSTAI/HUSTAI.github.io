{"version":3,"file":"config.js","sources":["../../src/client/components/CommentService.ts","../../src/client/config.ts"],"sourcesContent":["import { usePageData, usePageFrontmatter } from \"@vuepress/client\";\nimport type { VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport CommentProvider from \"vuepress-plugin-comment2/provider\";\n\nimport type { CommentPluginFrontmatter } from \"../../shared/index.js\";\nimport { useCommentOptions } from \"../helpers/index.js\";\n\nexport default defineComponent({\n  name: \"CommentService\",\n\n  props: {\n    /**\n     * Whether the component is in darkmode\n     *\n     * 组件是否处于夜间模式\n     */\n    darkmode: Boolean,\n  },\n\n  setup(props) {\n    const commentOptions = useCommentOptions();\n    const page = usePageData();\n    const frontmatter = usePageFrontmatter<CommentPluginFrontmatter>();\n\n    const enableComment = commentOptions.comment !== false;\n\n    const enabled = computed(() => {\n      return (\n        frontmatter.value.comment ||\n        (enableComment && frontmatter.value.comment !== false)\n      );\n    });\n\n    return (): VNode | null =>\n      h(CommentProvider, {\n        identifier: frontmatter.value.commentID || page.value.path,\n        darkmode: props.darkmode,\n        style: { display: enabled.value ? \"block\" : \"none\" },\n      });\n  },\n});\n","import { defineClientConfig } from \"@vuepress/client\";\n\nimport CommentService from \"./components/CommentService.js\";\nimport { injectCommentConfig } from \"./helpers/index.js\";\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n    injectCommentConfig(app);\n    app.component(\"CommentService\", CommentService);\n  },\n});\n"],"names":["defineComponent","props","commentOptions","useCommentOptions","page","usePageData","frontmatter","usePageFrontmatter","enableComment","enabled","computed","h","CommentProvider","config","defineClientConfig","app","injectCommentConfig","CommentService"],"mappings":"0PAQA,IAAeA,EAAAA,EAAgB,CAC7B,KAAM,iBAEN,MAAO,CAML,SAAU,OACZ,EAEA,MAAMC,EAAO,CACX,MAAMC,EAAiBC,EAAAA,EACjBC,EAAOC,EAAAA,EACPC,EAAcC,IAEdC,EAAgBN,EAAe,UAAY,GAE3CO,EAAUC,EAAS,IAErBJ,EAAY,MAAM,SACjBE,GAAiBF,EAAY,MAAM,UAAY,EAEnD,EAED,MAAO,IACLK,EAAEC,EAAiB,CACjB,WAAYN,EAAY,MAAM,WAAaF,EAAK,MAAM,KACtD,SAAUH,EAAM,SAChB,MAAO,CAAE,QAASQ,EAAQ,MAAQ,QAAU,MAAO,CACrD,CAAC,CACL,CACF,CAAC,ECpCDI,EAAeC,EAAmB,CAChC,QAAS,CAAC,CAAE,IAAAC,CAAI,IAAM,CACpBC,EAAoBD,CAAG,EACvBA,EAAI,UAAU,iBAAkBE,CAAc,CAChD,CACF,CAAC"}