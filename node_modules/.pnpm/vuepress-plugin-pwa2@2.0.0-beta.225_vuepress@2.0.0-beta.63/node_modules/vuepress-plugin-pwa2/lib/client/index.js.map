{"version":3,"file":"index.js","sources":["../../src/client/utils/unregisterSW.ts"],"sourcesContent":["/**\n * Call `unregister()` inside current active worker\n *\n * @returns `true` if unregister success, `false` if unregister failed\n *\n * 在当前激活的 Service Worker 中调用 `unregister()`\n *\n * @returns `true` 表示注销成功，`false` 表示注销失败\n */\nexport const unregisterSW = (): Promise<boolean> =>\n  navigator.serviceWorker\n    .getRegistration()\n    .then((registration) => {\n      if (registration)\n        return registration.unregister().then((found) => {\n          if (found) console.log(\"[PWA] Current service worker unregistered\");\n\n          return found;\n        });\n\n      return false;\n    })\n    .catch((error) => {\n      console.log(\n        \"[PWA] Unregister current service worker failed with error:\",\n        error\n      );\n\n      return false;\n    });\n"],"names":["unregisterSW","registration","found","error"],"mappings":"kGASO,MAAMA,EAAe,IAC1B,UAAU,cACP,gBAAgB,EAChB,KAAMC,GACDA,EACKA,EAAa,WAAW,EAAE,KAAMC,IACjCA,GAAO,QAAQ,IAAI,2CAA2C,EAE3DA,EACR,EAEI,EACR,EACA,MAAOC,IACN,QAAQ,IACN,6DACAA,CACF,EAEO,GACR"}