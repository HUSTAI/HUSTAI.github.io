{"version":3,"file":"skipWaiting-1b8a5c10.js","sources":["../../src/client/utils/skipWaiting.ts"],"sourcesContent":["/**\n * Call `skipWaiting()` inside current waiting worker\n *\n * 在当前等待中的 Service Worker 中调用 `skipWaiting()`\n */\nexport const skipWaiting = (registration: ServiceWorkerRegistration): void => {\n  // get the waiting worker\n  const worker = registration.waiting;\n\n  // if there is no waiting worker, return directly\n  if (!worker) return;\n\n  // post SKIP_WAITING message to the waiting worker\n  const channel = new MessageChannel();\n\n  worker.postMessage({ type: \"SKIP_WAITING\" }, [channel.port2]);\n};\n"],"names":["skipWaiting","registration","worker","channel"],"mappings":"AAKa,MAAAA,EAAeC,GAAkD,CAE5E,MAAMC,EAASD,EAAa,QAG5B,GAAI,CAACC,EAAQ,OAGb,MAAMC,EAAU,IAAI,eAEpBD,EAAO,YAAY,CAAE,KAAM,cAAe,EAAG,CAACC,EAAQ,KAAK,CAAC,CAC9D"}