{"version":3,"file":"categoryMap.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/composables/categoryMap.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AAEtC,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAM/D,MAAM,CAAC,MAAM,iBAAiB,GAC5B,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAE5B;;GAEG;AACH,MAAM,CAAC,MAAM,cAAc,GAAG,GAAmB,EAAE;IACjD,MAAM,WAAW,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;IAE9C,IAAI,CAAC,WAAW;QACd,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;IAElE,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,gBAAgB,GAAG,GAAS,EAAE;IACzC,MAAM,WAAW,GAAG,eAAe,CAAc,UAAU,CAAC,CAAC;IAE7D,OAAO,CAAC,iBAAiB,EAAE,WAAW,CAAC,CAAC;AAC1C,CAAC,CAAC","sourcesContent":["import type { ComputedRef, InjectionKey } from \"vue\";\nimport { inject, provide } from \"vue\";\nimport type { BlogCategoryData } from \"vuepress-plugin-blog2/client\";\nimport { useBlogCategory } from \"vuepress-plugin-blog2/client\";\n\nimport type { ArticleInfo } from \"../../../../shared/index.js\";\n\nexport type CategoryMapRef = ComputedRef<BlogCategoryData<ArticleInfo>>;\n\nexport const categoryMapSymbol: InjectionKey<CategoryMapRef> =\n  Symbol.for(\"categoryMap\");\n\n/**\n * Inject categoryMap\n */\nexport const useCategoryMap = (): CategoryMapRef => {\n  const categoryMap = inject(categoryMapSymbol);\n\n  if (!categoryMap)\n    throw new Error(\"useCategoryMap() is called without provider.\");\n\n  return categoryMap;\n};\n\n/**\n * Provide categoryMap\n */\nexport const setupCategoryMap = (): void => {\n  const categoryMap = useBlogCategory<ArticleInfo>(\"category\");\n\n  provide(categoryMapSymbol, categoryMap);\n};\n"]}