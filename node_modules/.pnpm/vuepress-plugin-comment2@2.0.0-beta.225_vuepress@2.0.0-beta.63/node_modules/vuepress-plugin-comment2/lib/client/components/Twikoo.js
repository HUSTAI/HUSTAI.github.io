import{usePageLang as s,usePageData as u}from"@vuepress/client";import{defineComponent as d,ref as w,onMounted as c,watch as f,h as o,nextTick as v}from"vue";import{LoadingIcon as k}from"vuepress-shared/client";import"../styles/twikoo.scss";import{b as g}from"../index-6705f8c9.js";var h=d({name:"TwikooComment",props:{identifier:{type:String,required:!0}},setup(i){const e=g(),a=s(),n=u(),t=w(!1),m=!!e.envId,r=async()=>{const[{init:p}]=await Promise.all([import("twikoo"),new Promise(l=>{setTimeout(()=>{l()},e.delay||800)})]);t.value=!0,await v(),await p({lang:a.value==="zh-CN"?"zh-CN":"en",path:i.identifier,...e,el:"#twikoo-comment"})};return c(()=>{f(()=>n.value.path,()=>r(),{immediate:!0})}),()=>m?o("div",{id:"comment",class:"twikoo-wrapper"},[t.value?null:o(k),o("div",{id:"twikoo-comment"})]):null}});export{h as default};
//# sourceMappingURL=Twikoo.js.map
