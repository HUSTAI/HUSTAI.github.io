import{usePageFrontmatter as c,usePageLang as f}from"@vuepress/client";import{pageviewCount as v}from"@waline/client/dist/pageview.mjs";import{pageviewCount as P}from"@waline/client/dist/pageview.mjs";import{defineComponent as g,computed as o,onMounted as C,watch as L,nextTick as h,h as a,defineAsyncComponent as w}from"vue";import{useLocaleConfig as W,LoadingIcon as A}from"vuepress-shared/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";import{c as N}from"../index-6705f8c9.js";const y=WALINE_LOCALES;WALINE_META&&import("@waline/client/dist/waline-meta.css");var E=g({name:"WalineComment",props:{identifier:{type:String,required:!0}},setup(t){const e=N(),m=c(),p=f(),l=W(y);let n;const i=!!e.serverURL,s=o(()=>{if(!i)return!1;const d=e.pageview!==!1,r=m.value.pageview;return!!r||d!==!1&&r!==!1}),u=o(()=>({lang:p.value==="zh-CN"?"zh-CN":"en",locale:l.value,dark:"html.dark",...e,path:t.identifier}));return C(()=>{L(()=>t.identifier,()=>{n==null||n(),s.value&&h().then(()=>{setTimeout(()=>{n=v({serverURL:e.serverURL,path:t.identifier})},e.delay||800)})},{immediate:!0})}),()=>i?a("div",{id:"comment",class:"waline-wrapper"},a(w({loader:async()=>(await import("@waline/client/dist/component.mjs")).Waline,loadingComponent:A}),u.value)):null}});export{E as default,P as pageviewCount};
//# sourceMappingURL=Waline.js.map
