import{defineComponent as i,shallowRef as s,computed as n,onMounted as d,onBeforeMount as u,h as e}from"vue";import"plyr/dist/plyr.css";import"../styles/video-player.scss";import{g as r}from"../getLink-dfca07b4.js";import"@vuepress/client";import"@vuepress/shared";var c=i({name:"VideoPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:"A video"},type:{type:String,default:""},tracks:{type:Array,default:()=>[]},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let a=null;const l=s(),p=n(()=>({hideYouTubeDOMError:!0,...t.options}));return d(async()=>{const{default:o}=await import("plyr");a=new o(l.value,p.value)}),u(()=>{try{a==null||a.destroy()}catch{}}),()=>e("div",{class:"vp-video-player",style:{width:t.width}},[e("a",{class:"sr-only",href:r(t.src)},t.title),e("video",{ref:l,title:t.title,crossorigin:"anonymous",poster:r(t.poster),preload:"metadata",controls:"",...t.loop?{loop:""}:{}},[t.tracks.map(o=>e("track",{...o,src:r(o.src)})),e("source",{src:r(t.src),type:t.type})])])}});export{c as default};
//# sourceMappingURL=VideoPlayer.js.map
