import{defineComponent as p,shallowRef as n,computed as s,onMounted as u,onBeforeMount as d,h as o}from"vue";import"plyr/dist/plyr.css";import"../styles/audio-player.scss";import{g as r}from"../getLink-dfca07b4.js";import"@vuepress/client";import"@vuepress/shared";var y=p({name:"AudioPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:""},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(e){let t=null;const i=n(),l=s(()=>({hideYouTubeDOMError:!0,...e.options}));return u(async()=>{const{default:a}=await import("plyr");t=new a(i.value,l.value)}),d(()=>{try{t==null||t.destroy()}catch{}}),()=>o("div",{class:"vp-audio-player",style:{width:e.width}},[o("a",{class:"sr-only",href:r(e.src),innerHTML:e.title||"An audio"}),e.poster?o("img",{class:"vp-audio-player-poster",src:r(e.poster),"no-view":""}):null,o("div",{class:"vp-audio-player-info"},[e.title?o("div",{class:"vp-audio-player-title",innerHTML:e.title}):null,o("audio",{ref:i,crossorigin:"anonymous",preload:"metadata",controls:"",...e.loop?{loop:""}:{}},o("source",{src:r(e.src),type:e.type}))])])}});export{y as default};
//# sourceMappingURL=AudioPlayer.js.map
