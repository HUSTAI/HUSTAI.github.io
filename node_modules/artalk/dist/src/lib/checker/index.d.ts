import Context from '../../../types/context';
import Layer from '../../layer';
import type Api from '../../api';
export interface CheckerCaptchaPayload extends CheckerPayload {
    imgData?: string;
    iframe?: string;
}
export interface CheckerPayload {
    onSuccess?: (inputVal: string, dialogEl?: HTMLElement) => void;
    onMount?: (dialogEl: HTMLElement) => void;
    onCancel?: () => void;
}
/**
 * Checker 发射台
 */
export default class CheckerLauncher {
    ctx: Context;
    launched: Checker[];
    constructor(ctx: Context);
    checkCaptcha(payload: CheckerCaptchaPayload): void;
    checkAdmin(payload: CheckerPayload): void;
    fire(checker: Checker, payload: CheckerPayload, postFire?: (c: CheckerCtx) => void): void;
    private close;
}
export interface Checker {
    el?: HTMLElement;
    inputType?: 'password' | 'text';
    body: (checker: CheckerCtx) => HTMLElement;
    request: (checker: CheckerCtx, inputVal: string) => Promise<string>;
    onSuccess?: (checker: CheckerCtx, respData: string, inputVal: string, formEl: HTMLElement) => void;
    onError?: (checker: CheckerCtx, err: any, inputVal: string, formEl: HTMLElement) => void;
}
interface CheckerStore {
    val?: string;
    img_data?: string;
    iframe?: string;
}
export interface CheckerCtx {
    get<K extends keyof CheckerStore>(key: K): CheckerStore[K];
    set<K extends keyof CheckerStore>(key: K, val: CheckerStore[K]): void;
    getCtx(): Context;
    getApi(): Api;
    getLayer(): Layer;
    hideInteractInput(): void;
    triggerSuccess(): void;
    cancel(): void;
}
export {};
