import{useStorage as f}from"@vueuse/core";import{defineComponent as y,ref as I,shallowRef as m,onMounted as g,watch as h,h as r}from"vue";import"../styles/code-tabs.scss";const v=f("VUEPRESS_CODE_TAB_STORE",{});var A=y({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(a,{slots:n}){const d=I(a.active),o=m([]),i=()=>{a.tabId&&(v.value[a.tabId]=a.data[d.value].id)},s=(e=d.value)=>{d.value=e<o.value.length-1?e+1:0,o.value[d.value].focus()},c=(e=d.value)=>{d.value=e>0?e-1:o.value.length-1,o.value[d.value].focus()},b=(e,t)=>{e.key===" "||e.key==="Enter"?(e.preventDefault(),d.value=t):e.key==="ArrowRight"?(e.preventDefault(),s()):e.key==="ArrowLeft"&&(e.preventDefault(),c()),a.tabId&&(v.value[a.tabId]=a.data[d.value].id)},p=()=>{if(a.tabId){const e=a.data.findIndex(({id:t})=>v.value[a.tabId]===t);if(e!==-1)return e}return a.active};return g(()=>{d.value=p(),h(()=>v.value[a.tabId],(e,t)=>{if(a.tabId&&e!==t){const l=a.data.findIndex(({id:u})=>u===e);l!==-1&&(d.value=l)}})}),()=>a.data.length?r("div",{class:"vp-code-tabs"},[r("div",{class:"vp-code-tabs-nav",role:"tablist"},a.data.map(({id:e},t)=>{const l=t===d.value;return r("button",{type:"button",ref:u=>{u&&(o.value[t]=u)},class:["vp-code-tab-nav",{active:l}],role:"tab","aria-controls":`codetab-${a.id}-${t}`,"aria-selected":l,onClick:()=>{d.value=t,i()},onKeydown:u=>b(u,t)},n[`title${t}`]({value:e,isActive:l}))})),a.data.map(({id:e},t)=>{const l=t===d.value;return r("div",{class:["vp-code-tab",{active:l}],id:`codetab-${a.id}-${t}`,role:"tabpanel","aria-expanded":l},n[`tab${t}`]({value:e,isActive:l}))})]):null}});export{A as default};
//# sourceMappingURL=CodeTabs.js.map
