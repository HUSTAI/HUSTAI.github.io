import{defineComponent as p,shallowRef as r,ref as d,onMounted as u,h as t}from"vue";import{atou as _,LoadingIcon as f}from"vuepress-shared/client";import"../styles/chart.scss";const g=(e,n)=>n==="json"?JSON.parse(e):new Function(`let config,__chart_js_config__;
{
${e}
__chart_js_config__=config;
}
return __chart_js_config__;`)();var h=p({name:"ChartJS",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:"json"}},setup(e){const n=r(),a=r(),o=d(!0);return u(async()=>{const[{default:i}]=await Promise.all([import("chart.js/auto"),new Promise(c=>setTimeout(c,MARKDOWN_ENHANCE_DELAY))]);i.defaults.maintainAspectRatio=!1;const s=g(_(e.config),e.type),l=a.value.getContext("2d");new i(l,s),o.value=!1}),()=>[e.title?t("div",{class:"chartjs-title"},decodeURIComponent(e.title)):null,o.value?t(f,{class:"chartjs-loading",height:192}):null,t("div",{ref:n,class:"chartjs-wrapper",id:e.id,style:{display:o.value?"none":"block"}},t("canvas",{ref:a,height:400}))]}});export{h as default};
//# sourceMappingURL=ChartJS.js.map
