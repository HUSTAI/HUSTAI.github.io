import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{o as t,c as m,e as n,a as s,b as e,f as a}from"./app-dda274cc.js";const p="/assets/images/llm/RetrieveTextGeneration1.png",r={},i=s("h1",{id:"基于检索增强的文本生成调研",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#基于检索增强的文本生成调研","aria-hidden":"true"},"#"),e(" 基于检索增强的文本生成调研")],-1),c=s("p",null,"本文旨在对基于检索增强的文本生成方法进行调研。它首先强调了检索增强生成的泛化范式，然后根据不同的任务回顾了相应的方法,包括对话响应生成、机器翻译和其他生成任务。最后,它指出了一些在最近的方法之上促进未来研究的有前景的方向。",-1),o=a('<p>论文名称：A Survey on Retrieval-Augmented Text Generation</p><h2 id="_1-检索增强生成-rag-框架" tabindex="-1"><a class="header-anchor" href="#_1-检索增强生成-rag-框架" aria-hidden="true">#</a> 1 检索增强生成（RAG）框架</h2><figure><img src="'+p+'" alt="示意图" tabindex="0" loading="lazy"><figcaption>图1.1 总体架构</figcaption></figure><p>文章中提到了以下几点:</p><p>（1）RAG是一种新兴的文本生成范式,将新兴的深度学习技术和传统的检索技术相结合。</p><p>（2）RAG框架包括三个关键组件:检索源(训练语料、外部数据、非监督数据)、检索指标(稀疏向量、密集向量、特定任务的检索)和集成方法(数据增强、注意力机制、框架提取)。</p><p>（3）RAG通过检索相关的实例来为文本生成提供额外的上下文信息和知识，从而帮助改进文本生成性能。</p><p>（4）RAG框架已经在对话响应生成、机器翻译等多个文本生成任务中被验证是有效的。</p><p>（5）RAG框架的优势在于可以显式地获取知识，而不是隐式地存储在模型参数中,因此具有很强的可扩展性。</p><p>综上所述，RAG框架是最近获得广泛关注的一种新的文本生成范式，其关键思想是利用检索相关记忆来辅助和改进文本生成。</p><h2 id="_2-主流的检索技术" tabindex="-1"><a class="header-anchor" href="#_2-主流的检索技术" aria-hidden="true">#</a> 2 主流的检索技术</h2><p>文章中提到的检索技术主要有以下几种:</p><p>（1）稀疏向量检索</p><p>例如 TF-IDF 和 BM25 等基于关键词匹配的传统检索方法。依赖倒排索引,可以高效匹配关键词。</p><p>（2）密集向量检索</p><p>例如基于BERT的编码器将文本映射到低维向量空间,然后计算向量之间的内积作为相似度。优点是可以捕捉语义相似性,而不仅仅是词面相似性。</p><p>（3）特定于任务的检索</p><p>不仅考虑通用的文本相似性,而是学习一个针对下游任务优化的检索指标,使检索的记忆真正对生成质量有提升。</p><h2 id="_3-稀疏向量检索技术" tabindex="-1"><a class="header-anchor" href="#_3-稀疏向量检索技术" aria-hidden="true">#</a> 3 稀疏向量检索技术</h2><p>BM25是一种常用的稀疏向量文本检索算法,其主要思想和步骤如下:</p><p>（1）对检索语料建立倒排索引,记录每个词出现在哪些文本中。</p><p>（2）对查询进行分词,获得查询的词袋表示。</p><p>（3）计算查询中每个词与语料中每个文本的匹配分值。</p>',23),h=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{width:"100%"},[s("mtr",null,[s("mtd",{width:"50%"}),s("mtd",null,[s("mrow",null,[s("mi",null,"m"),s("mi",null,"a"),s("mi",null,"t"),s("mi",null,"c"),s("mi",null,"h"),s("mo",{stretchy:"false"},"("),s("mi",null,"q"),s("mo",{separator:"true"},","),s("mi",null,"d"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mfrac",null,[s("mrow",null,[s("mrow",null,[s("mi",{mathvariant:"normal"},"I"),s("mi",{mathvariant:"normal"},"D"),s("mi",{mathvariant:"normal"},"F")]),s("mo",{stretchy:"false"},"("),s("mi",{mathvariant:"normal"},"q"),s("mo",{stretchy:"false"},")"),s("mrow",null,[s("mrow",null,[s("mi",{mathvariant:"normal"},"t"),s("mi",{mathvariant:"normal"},"f")]),s("mo",{stretchy:"false"},"("),s("mi",{mathvariant:"normal"},"q"),s("mo",{separator:"true"},","),s("mi",{mathvariant:"normal"},"d"),s("mo",{stretchy:"false"},")"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",{mathvariant:"normal"},"k"),s("mn",null,"1")]),s("mo",null,"+"),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])]),s("mrow",null,[s("mrow",null,[s("mi",{mathvariant:"normal"},"t"),s("mi",{mathvariant:"normal"},"f")]),s("mo",{stretchy:"false"},"("),s("mi",{mathvariant:"normal"},"q"),s("mo",{separator:"true"},","),s("mi",{mathvariant:"normal"},"d"),s("mo",{stretchy:"false"},")"),s("mo",null,"+"),s("msub",null,[s("mi",{mathvariant:"normal"},"k"),s("mn",null,"1")]),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",null,"−"),s("mi",{mathvariant:"normal"},"b"),s("mo",null,"+"),s("mfrac",null,[s("mrow",null,[s("mi",{mathvariant:"normal"},"b"),s("mrow",null,[s("mo",{fence:"true"},"∣"),s("mi",{mathvariant:"normal"},"d"),s("mo",{fence:"true"},"∣")])]),s("mrow",null,[s("mi",{mathvariant:"normal"},"a"),s("mi",{mathvariant:"normal"},"v"),s("mi",{mathvariant:"normal"},"g"),s("mi",{mathvariant:"normal"},"d"),s("mi",{mathvariant:"normal"},"l")])]),s("mo",{stretchy:"false"},")")])])])]),s("mtd",{width:"50%"}),s("mtd",null,[s("mtext",null,"(3.1)")])])]),s("annotation",{encoding:"application/x-tex"}," match(q,d) =\\frac {\\rm{IDF}(q)\\rm{tf}(q, d)(k_1+1)}{\\rm{tf}(q,d)+k_1(1-b+\\frac{b\\left|d\\right|}{avgdl})} \\tag {3.1} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"ma"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"c"),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.8081em","vertical-align":"-1.3811em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.427em"}},[s("span",{style:{top:"-2.11em"}},[s("span",{class:"pstrut",style:{height:"3.01em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord mathrm",style:{"margin-right":"0.07778em"}},"tf")]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathrm"},"q"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathrm"},"d"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathrm"},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3011em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathrm mtight"},"1")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathrm"},"1"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathrm"},"b"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.01em"}},[s("span",{style:{top:"-2.655em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathrm mtight"},"avgdl")])])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.485em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathrm mtight"},"b"),s("span",{class:"minner mtight"},[s("span",{class:"mopen mtight delimcenter",style:{top:"0em"}},[s("span",{class:"mtight"},"∣")]),s("span",{class:"mord mathrm mtight"},"d"),s("span",{class:"mclose mtight delimcenter",style:{top:"0em"}},[s("span",{class:"mtight"},"∣")])])])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.4811em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mclose"},")")])])]),s("span",{style:{top:"-3.24em"}},[s("span",{class:"pstrut",style:{height:"3.01em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.687em"}},[s("span",{class:"pstrut",style:{height:"3.01em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord mathrm"},"IDF")]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathrm"},"q"),s("span",{class:"mclose"},")"),s("span",{class:"mord"},[s("span",{class:"mord"},[s("span",{class:"mord mathrm",style:{"margin-right":"0.07778em"}},"tf")]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathrm"},"q"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathrm"},"d"),s("span",{class:"mclose"},")"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathrm"},"k"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3011em"}},[s("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathrm mtight"},"1")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathrm"},"1"),s("span",{class:"mclose"},")")])])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3811em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})])]),s("span",{class:"tag"},[s("span",{class:"strut",style:{height:"2.8081em","vertical-align":"-1.3811em"}}),s("span",{class:"mord text"},[s("span",{class:"mord"},"("),s("span",{class:"mord"},[s("span",{class:"mord"},"3.1")]),s("span",{class:"mord"},")")])])])])])],-1),d=s("p",null,"其中IDF(q)表示词q的逆文档频率,tf(q,d)表示词q在文本d中出现的次数,|d|表示文本d的长度,avgdl表示所有文本的平均长度。k1,b为调优参数。",-1),g=s("p",null,"（4）对每个文本d的所有匹配分值求和,获得查询与该文本的相似度分数。",-1),u=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{width:"100%"},[s("mtr",null,[s("mtd",{width:"50%"}),s("mtd",null,[s("mrow",null,[s("mi",null,"s"),s("mi",null,"c"),s("mi",null,"o"),s("mi",null,"r"),s("mi",null,"e"),s("mo",{stretchy:"false"},"("),s("mi",null,"q"),s("mo",{separator:"true"},","),s("mi",null,"d"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("munder",null,[s("mo",null,"∑"),s("mrow",null,[s("mi",null,"q"),s("mo",null,"∈"),s("mi",null,"q")])]),s("mi",null,"m"),s("mi",null,"a"),s("mi",null,"t"),s("mi",null,"c"),s("mi",null,"h"),s("mo",{stretchy:"false"},"("),s("mi",null,"q"),s("mo",{separator:"true"},","),s("mi",null,"d"),s("mo",{stretchy:"false"},")")])]),s("mtd",{width:"50%"}),s("mtd",null,[s("mtext",null,"(3.2)")])])]),s("annotation",{encoding:"application/x-tex"}," score(q,d) = \\sum\\limits_{q \\in q} match(q, d) \\tag {3.2} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal"},"score"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.4361em","vertical-align":"-1.3861em"}}),s("span",{class:"mop op-limits"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.05em"}},[s("span",{style:{top:"-1.9em","margin-left":"0em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mrel mtight"},"∈"),s("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.03588em"}},"q")])])]),s("span",{style:{top:"-3.05em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",null,[s("span",{class:"mop op-symbol large-op"},"∑")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3861em"}},[s("span")])])])]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal"},"ma"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"c"),s("span",{class:"mord mathnormal"},"h"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"q"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mclose"},")")]),s("span",{class:"tag"},[s("span",{class:"strut",style:{height:"2.4361em","vertical-align":"-1.3861em"}}),s("span",{class:"mord text"},[s("span",{class:"mord"},"("),s("span",{class:"mord"},[s("span",{class:"mord"},"3.2")]),s("span",{class:"mord"},")")])])])])])],-1),y=a('<p>（5）根据相似度对文本排序,返回与查询最相似的Top-N文本。</p><p>BM25通过考虑词频、逆文档频率等统计信息,能够计算查询和文本之间的相关性。相比简单的词集匹配,它更加强大和准确。BM25至今仍被广泛使用于搜索引擎和信息检索任务中。</p><h2 id="_4-密集向量检索方法" tabindex="-1"><a class="header-anchor" href="#_4-密集向量检索方法" aria-hidden="true">#</a> 4 密集向量检索方法</h2><p>文章中提到的基于密集向量的检索方法主要包括:</p><p>（1）基于BERT的检索</p><p>使用BERT等预训练语言模型作为encoder来获得文本的向量表示,然后计算向量相似度。</p><p>（2）基于sentence-transformers的检索</p><p>使用特定预训练的句子级语义向量,如SBERT、Sentence-BERT等,来表示文本。</p><p>（3）基于迁移学习的检索</p><p>在目标任务的数据上微调预训练模型,使文本向量更适合下游任务。</p><p>（4）对比学习检索</p><p>加入负样本,使正样本的文本向量更聚集。</p><p>（5）硬匹配检索</p><p>直接取向量的内积或余弦相似度作为匹配分值。</p><p>（6）软匹配检索</p><p>加入一个预测匹配分值的小网络,而不是直接硬匹配。</p><p>（7）跨语言检索</p><p>训练一个跨语言的文本语义匹配模型。</p><p>（8）基于图像的检索</p><p>利用图像-文本的预训练模型获得跨模态的语义向量。</p><p>（9）基于知识图谱的检索</p><p>编码知识图谱关系来增强文本语义。</p><h2 id="_5-特定任务检索" tabindex="-1"><a class="header-anchor" href="#_5-特定任务检索" aria-hidden="true">#</a> 5 特定任务检索</h2><p>特定于任务的检索是指检索指标不仅考虑通用的文本相似度,而是针对下游任务学习一个最优的指标。</p><p>举例来说,在对话系统中,根据通用相似度检索出的上下文并不一定能产生最相关的回复。为了让检索出的记忆真正提升回复的质量,可以:</p><p>（1）构建一个端到端的检索-生成模型。</p><p>（2）通过最大化回复质量的目标,来反向传播训练检索模块。</p><p>（3）让检索模块学会检索出对回复生成最有帮助的记忆。</p><p>相比通用相似度,这种特定于生成任务优化的检索指标可以提升生成性能,因为它直接关联了检索和生成的目标。</p><p>类似地,这种思想也可以应用到其他生成任务中,通过使检索指标针对任务目标来获得最佳的记忆检索效果。这是当前研究的一个重要方向。</p><h2 id="_6-集成方法" tabindex="-1"><a class="header-anchor" href="#_6-集成方法" aria-hidden="true">#</a> 6 集成方法</h2><p>文章中提到了几种集成检索记忆的方法:</p><p>（1）数据增强</p><p>将检索的结果，作为大模型的上下文，让大模型参考上下文进行内容生成。</p><p>（2）注意力机制</p><p>采用额外的encoder对检索文本编码，并通过注意力机制集成。</p><p>（3）框架提取</p><p>从检索结果中提取框架信息,避免不相关内容对生成造成负面影响。这种扩展性强，可以深入研究。</p><p>总之，核心思路是引导模型明确区分输入和检索记忆，避免过度依赖检索内容而产生错误。同时通过端到端学习,使模型理解如何最有效利用检索信息。</p><h2 id="_7-未来研究方向" tabindex="-1"><a class="header-anchor" href="#_7-未来研究方向" aria-hidden="true">#</a> 7 未来研究方向</h2><p>文章最后提出了以下几个未来的研究方向:</p><p>（1）提高检索的准确性:现有模型对检索质量很敏感，需要提高处理不太相似检索结果的鲁棒性。</p><p>（2）提高检索效率:加大检索池会提高相关性，但降低效率，需要在两者间取得平衡。</p><p>（3）本地与全局优化:理论上联合训练检索和生成似乎更优，但在实践中仍存在差距需要研究。</p><p>（4）多模态:可以扩展到图像、语音等多模态任务，利用多模态检索增强文本生成。</p><p>（5）多样性与可控性:现有检索过于单一，需要探索多样性的检索方式；也可以研究控制检索记忆的方法。</p><p>（6）结构化检索:现有检索侧重无结构文本，可以引入结构化知识的检索。</p><p>（7）强化学习:检索可以看作是生成的行为选择，可以引入强化学习进行优化。</p><p>综上，文章对未来研究提出了很好的建议和指导，给出了可能的新方向，为研究者提供了很好的思路。</p>',49);function v(f,_){return t(),m("div",null,[i,c,n(" more "),o,h,d,g,u,y])}const q=l(r,[["render",v],["__file","RetrieveTextGeneration.html.vue"]]);export{q as default};
